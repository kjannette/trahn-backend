# Trahn Grid Trader - Environment Configuration
# ETH Grid Trading Bot - Buy ETH low, sell ETH high
# Copy this file to .env and fill in your values

# ============================================
# NETWORK CONFIGURATION
# ============================================

# Ethereum RPC endpoint (Infura, Alchemy, etc.)
ETHEREUM_API_ENDPOINT=https://mainnet.infura.io/v3/YOUR_PROJECT_ID
# Chain ID: 1 = Mainnet, 5 = Goerli, 11155111 = Sepolia
CHAIN_ID=1

# ============================================
# WALLET CONFIGURATION
# ============================================

# Your wallet address
WALLET_ADDRESS=0x...

# Private key (with 0x prefix) - KEEP THIS SECRET!
PRIVATE_KEY=0x...

# ============================================
# QUOTE TOKEN CONFIGURATION (Stablecoin)
# ============================================
# The quote token is the stablecoin used to buy/sell ETH
# Default is USDC on Ethereum mainnet

# Quote token contract address (USDC mainnet)
QUOTE_TOKEN_ADDRESS=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48

# Quote token symbol (for display)
QUOTE_TOKEN_SYMBOL=USDC

# Quote token decimals (USDC = 6)
QUOTE_TOKEN_DECIMALS=6

# ============================================
# GRID CONFIGURATION
# ============================================

# Number of grid levels (total buy + sell levels)
GRID_LEVELS=10

# Percentage spacing between each grid level
GRID_SPACING_PERCENT=2

# Base/center price for the grid in USD (0 = auto-detect from current ETH price)
GRID_BASE_PRICE=0

# USD amount to trade at each grid level
AMOUNT_PER_GRID=100

# ============================================
# TRADING PARAMETERS
# ============================================

# Slippage tolerance (percentage)
SLIPPAGE_TOLERANCE=1.5

# Gas price multiplier (e.g., 1.2 = 20% above network average)
GAS_MULTIPLIER=1.2

# Gas limit for transactions
GAS_LIMIT=250000

# Minimum profit percentage to execute a trade
MIN_PROFIT_PERCENT=0.5

# ============================================
# TIMING CONFIGURATION
# ============================================

# How often to check prices (seconds)
PRICE_CHECK_INTERVAL_SECONDS=30

# How often to report status (minutes)
STATUS_REPORT_INTERVAL_MINUTES=60

# Cooldown after a trade (seconds)
POST_TRADE_COOLDOWN_SECONDS=60

# ============================================
# NOTIFICATIONS
# ============================================

# Slack/Discord webhook URL (optional - leave empty to disable)
WEBHOOK_URL=

# Bot name for notifications
BOT_NAME=TrahnGridTrader

# ============================================
# STATE MANAGEMENT
# ============================================

# Path to state file (stores grid state between restarts)
# Default: backend/trahn_grid_trader.state.json
# STATE_FILE_PATH=/path/to/state.json

# ============================================
# RISK MANAGEMENT (optional)
# ============================================

# Maximum trades per day (0 = unlimited)
MAX_DAILY_TRADES=50

# Maximum position size in USD
MAX_POSITION_SIZE_USD=10000

# Stop loss percentage (0 = disabled)
STOP_LOSS_PERCENT=0

# Take profit percentage (0 = disabled)
TAKE_PROFIT_PERCENT=0

# ============================================
# PAPER TRADING (Simulation Mode)
# ============================================

# Enable paper trading mode (true = simulate trades, false = real trades)
PAPER_TRADING_ENABLED=true

# Starting virtual ETH balance for paper trading
PAPER_INITIAL_ETH=1.0

# Starting virtual USDC balance for paper trading
PAPER_INITIAL_USDC=1000

# Path to paper trading state file (separate from live state)
# Default: backend/trahn_grid_trader.paper_state.json
PAPER_STATE_FILE_PATH=

# Simulated slippage range (percentage, e.g., 0.5 = 0-0.5% random slippage)
PAPER_SLIPPAGE_PERCENT=0.5

# Simulate gas costs (true = deduct estimated gas from virtual ETH)
PAPER_SIMULATE_GAS=true

# ============================================
# DUNE ANALYTICS (Support/Resistance)
# ============================================
# Dune Analytics is used to calculate proper support/resistance levels
# for centering the grid on the TRUE midpoint, not an arbitrary price snapshot.

# Your Dune Analytics API key (get one at https://dune.com/settings/api)
# Leave empty to use fallback mode (current price as midpoint)
DUNE_API_KEY=

# Support/Resistance calculation method:
#   "simple"     - Uses absolute high/low (fast, may be skewed by wicks)
#   "percentile" - Uses 5th/95th percentiles (robust against outliers)
SR_METHOD=simple

# How often to refresh S/R levels from Dune (hours)
# Higher = fewer API calls, Lower = more responsive to market changes
SR_REFRESH_HOURS=48

# Lookback period for S/R calculation (days)
SR_LOOKBACK_DAYS=14

# ============================================
# EXPLORER
# ============================================

# Transaction explorer URL prefix
EXPLORER_TX_PREFIX=https://etherscan.io/tx/

# ============================================
# PRODUCTION PATHS (Server Deployment)
# ============================================

# Frontend data directory (where backend writes price/trade data for frontend)
# Leave empty for local development (uses relative path)
# Set absolute path for production (e.g., /var/trahn-frontend/dist/data)
FRONTEND_DATA_DIR=
